<!-- HTML header for doxygen 1.8.19-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ARM NEON Compositor: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script>
<script type="text/javascript" async="async" src="/MathJax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&family=Roboto:wght@400&family=Roboto:wght@500&display=block" rel="stylesheet">
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ARM NEON Compositor
   &#160;<span id="projectnumber"><code>master</code></span>
   </div>
   <div id="projectbrief">Fast SIMD alpha overlay and blending for ARM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ARM NEON Compositor Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_runner_work_ARM-NEON-Compositor_ARM-NEON-Compositor_README"></a><a href="https://github.com/tttapa/ARM-NEON-Compositor/actions"><img src="https://github.com/tttapa/ARM-NEON-Compositor/workflows/CI%20Tests/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/tttapa/ARM-NEON-Compositor"><img src="https://img.shields.io/github/stars/tttapa/ARM-NEON-Compositor?label=GitHub&amp;logo=github" alt="GitHub" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md11"></a>
ARM/Raspberry Pi NEON Compositor</h1>
<p>Uses NEON SIMD instructions to overlay a foreground image with an alpha channel (transparency) over a background image really quickly.</p>
<p>For small images, it is up to <b>3.5 times faster</b> than an implementation without NEON intrinsics, and for really large images, it is around 1.4 times faster.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Documentation</h2>
<p><a href="https://tttapa.github.io/ARM-NEON-Compositor/Doxygen/index.html"><b>Documentation</b></a></p>
<p>The <a href="https://tttapa.github.io/ARM-NEON-Compositor/Doxygen/modules.html"><b>modules</b></a> page is the best place to start. The main function is <a href="https://tttapa.github.io/ARM-NEON-Compositor/Doxygen/d6/d96/group__overlay__alpha.html#ga1f0ae30bcf7b623123eff96cf2a40525"><code>overlay_alpha_stride</code></a>.</p>
<p>You can find more in-depth explanations of the NEON intrinsics used by this library here: <a href="https://tttapa.github.io/Pages/Raspberry-Pi/NEON/index.html"><b>Raspberry-Pi/NEON</b></a>.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Examples</h2>
<p>The <a href="https://tttapa.github.io/ARM-NEON-Compositor/Doxygen/dc/d0e/examples_2overlay_alpha_2overlay_alpha_8cpp-example.html"><code>overlay_alpha</code></a> example overlays a foreground image with an alpha channel onto a background image, for example:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Background  </th><th class="markdownTableHeadCenter">Foreground  </th><th class="markdownTableHeadCenter">Result   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><img src="Machu-Picchu.thumb.jpg" alt="" class="inline"/>     </td><td class="markdownTableBodyCenter"><img src="Overlay-Machu-Picchu.thumb.png" alt="" class="inline"/>     </td><td class="markdownTableBodyCenter"><img src="Overlay-Machu-Picchu-Output.thumb.jpg" alt="" class="inline"/>      </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md14"></a>
Performance</h2>
<p>The following two graphs show the results of four experiments comparing the performance of overlaying one image onto another, using GCC's <code>-O3</code> optimization level on the one hand, and using hand-crafted NEON intrinsics on the other hand. Especially for small images, the NEON version is much faster. For larger images, memory throughput and caching effects start to become more important factors than raw processing power, but the NEON version is still significantly faster than the version without intrinsics.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Small images  </th><th class="markdownTableHeadCenter">Large images   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><img src="perf-small.svg" alt="" style="pointer-events: none;" class="inline"/>     </td><td class="markdownTableBodyCenter"><img src="perf-large.svg" alt="" style="pointer-events: none;" class="inline"/>      </td></tr>
</table>
<p>The experiments were carried out on a Raspberry Pi 3B+ running Ubuntu 20.04 (64-bit). <br  />
 More performance tests can be found in the <a href="https://tttapa.github.io/ARM-NEON-Compositor/Doxygen/dc/d46/examples_2perf_test_2perf_test_8py-example.html"><code>perf_test</code></a> example. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.19
</small></address>
</body>
</html>
